(()=>{"use strict";var t={20:(t,e,n)=>{var o=n(609),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(t,e,n){var o,i={},d=null,l=null;for(o in void 0!==n&&(d=""+n),void 0!==e.key&&(d=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,o)&&!c.hasOwnProperty(o)&&(i[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps)void 0===i[o]&&(i[o]=e[o]);return{$$typeof:r,type:t,key:d,ref:l,props:i,_owner:a.current}}e.Fragment=i,e.jsx=d,e.jsxs=d},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},s=[],a=0;a<t.length;a++){var c=t[a],d=o.base?c[0]+o.base:c[0],l=i[d]||0,p="".concat(d," ").concat(l);i[d]=l+1;var u=n(p),A={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(A);else{var v=r(A,o);o.byIndex=a,e.splice(a,0,{identifier:p,updater:v,references:1})}s.push(p)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=n(i[s]);e[a].references--}for(var c=o(t,r),d=0;d<i.length;d++){var l=n(i[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=c}}},87:t=>{t.exports=window.wp.element},100:(t,e,n)=>{n.d(e,{A:()=>a});var o=n(354),r=n.n(o),i=n(314),s=n.n(i)()(r());s.push([t.id,".apbe-toast{position:fixed;background:#000;color:#fff;bottom:-50px;opacity:0;left:15px;padding:20px;border-radius:5px;font-size:13px;z-index:1;box-shadow:0 0 15px rgba(0,0,0,.1);animation:slideUp .5s ease-out forwards}.apbe-sidebar p{margin-top:0 !important;margin-bottom:7.5px !important}.apbe-sidebar button{height:auto;padding:11.5px 15px;justify-content:center}.apbe-sidebar ul{margin:0;padding:0;display:flex;flex-direction:column}.apbe-sidebar ul li{padding:0 0 22.5px 0;margin:0}.apbe-sidebar ul li:first-child{padding-top:0}.apbe-button-group{display:flex;justify-content:space-between;margin-top:8.5px}.apbe-button-group button{height:38px;border-radius:3px}.apbe-button-group button.is-secondary{padding-left:9px;padding-right:9px}@keyframes slideUp{to{bottom:40px;opacity:1}}","",{version:3,sources:["webpack://./src/styles/app.scss"],names:[],mappings:"AACC,YACC,cAAA,CACA,eAAA,CACA,UAAA,CACA,YAAA,CACA,SAAA,CACA,SAAA,CACA,YAAA,CACA,iBAAA,CACA,cAAA,CACA,SAAA,CACA,kCAAA,CACE,uCAAA,CAIF,gBACC,uBAAA,CACA,8BAAA,CAGD,qBACC,WAAA,CACA,mBAAA,CACA,sBAAA,CAGD,iBACC,QAAA,CACA,SAAA,CACA,YAAA,CACA,qBAAA,CAEA,oBACC,oBAAA,CACA,QAAA,CAEA,gCACC,aAAA,CAOH,mBACC,YAAA,CACA,6BAAA,CACA,gBAAA,CAEA,0BACC,WAAA,CACA,iBAAA,CAEA,uCACC,gBAAA,CACA,iBAAA,CAOL,mBACE,GACD,WAAA,CACG,SAAA,CAAA",sourcesContent:[".apbe {\n\t&-toast {\n\t\tposition: fixed;\n\t\tbackground: #000;\n\t\tcolor: #FFF;\n\t\tbottom: -50px;\n\t\topacity: 0;\n\t\tleft: 15px;\n\t\tpadding: 20px;\n\t\tborder-radius: 5px;\n\t\tfont-size: 13px;\n\t\tz-index: 1;\n\t\tbox-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\n  \t\tanimation: slideUp 0.5s ease-out forwards;\n\t}\n\n\t&-sidebar {\n\t\tp {\n\t\t\tmargin-top: 0 !important;\n\t\t\tmargin-bottom: 7.5px !important;\n\t\t}\n\n\t\tbutton {\n\t\t\theight: auto;\n\t\t\tpadding: 11.5px 15px;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\tul {\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\tli {\n\t\t\t\tpadding: 0 0 22.5px 0;\n\t\t\t\tmargin: 0;\n\n\t\t\t\t&:first-child {\n\t\t\t\t\tpadding-top: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t&-button {\n\t\t&-group {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tmargin-top: 8.5px;\n\n\t\t\tbutton {\n\t\t\t\theight: 38px;\n\t\t\t\tborder-radius: 3px;\n\n\t\t\t\t&.is-secondary {\n\t\t\t\t\tpadding-left: 9px;\n\t\t\t\t\tpadding-right: 9px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n@keyframes slideUp {\n  to {\n\tbottom: 40px;\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]);const a=s},105:(t,e,n)=>{n.d(e,{D:()=>i,h:()=>s});var o=n(723),r=n(619);const i=t=>{const e=[],n={casual:(0,o.__)("Use Casual Tone","ai-plus-block-editor"),official:(0,o.__)("Use Official Tone","ai-plus-block-editor"),descriptive:(0,o.__)("Use Descriptive Tone","ai-plus-block-editor"),narrative:(0,o.__)("Use Narrative Tone","ai-plus-block-editor"),aggressive:(0,o.__)("Use Aggressive Tone","ai-plus-block-editor")};return Object.keys(n).forEach((o=>{e.push({title:n[o],onClick:()=>{t(o)}})})),(0,r.applyFilters)("apbe.blockMenuOptions",e)},s=()=>(0,r.applyFilters)("apbe.allowedBlocks",["core/paragraph"])},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},143:t=>{t.exports=window.wp.data},213:(t,e,n)=>{var o=n(848),r=n(723),i=n(830),s=n(619),a=n(715),c=n(143),d=n(87),l=n(427),p=n(455),u=n.n(p),A=n(105),v=n(814),f=n(231),x=(n(533),function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}))});(0,s.addFilter)("blocks.registerBlockType","apbe/ai",(t=>{const{name:e,edit:n}=t;return-1===(0,A.h)().indexOf(e)||(t.edit=t=>{const[e,s]=(0,d.useState)(""),[p,g]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{var t;e&&(t=e,x(void 0,void 0,void 0,(function*(){const{postId:e,blockId:n,blockContent:o}=(()=>{var t,e;const{getCurrentPostId:n}=(0,c.select)(v.FI),{getSelectedBlock:o,getSelectedBlockClientId:r}=(0,c.select)(v.Os);return{postId:n(),blockId:r(),blockContent:(null===(e=null===(t=o())||void 0===t?void 0:t.attributes)||void 0===e?void 0:e.content)||""}})(),{createErrorNotice:r}=(0,c.dispatch)(v.DS),{updateBlockAttributes:i}=(0,c.dispatch)(v.Os);g(!0);try{const r=yield u()({path:"/ai-plus-block-editor/v1/tone",method:"POST",data:{id:e,text:(null==o?void 0:o.text)||o,newTone:t}});let s=1;const a=setInterval((()=>{r.length===s&&clearInterval(a),i(n,{content:r.substring(0,s)}),s++}),5);g(!1)}catch(t){r(t.message,{type:"snackbar",isDismissible:!0})}})))}),[e]),(0,o.jsxs)(d.Fragment,{children:[(0,o.jsx)(f.A,{isInEditor:!0,message:(0,r.__)("AI is generating text, please hold on for a bit.","ai-plus-block-editor"),isLoading:p}),(0,o.jsx)(a.BlockControls,{children:(0,o.jsx)(l.ToolbarGroup,{children:(0,o.jsx)(l.ToolbarDropdownMenu,{icon:i.A,label:(0,r.__)("AI + Block Editor"),controls:(0,A.D)(s)})})}),n(t)]})}),t}))},231:(t,e,n)=>{n.d(e,{A:()=>i});var o=n(848),r=n(716);const i=({isLoading:t,message:e,isInEditor:n=!1})=>n?(0,o.jsx)(r.A,{message:e,isLoading:t}):t&&(0,o.jsx)("div",{className:"apbe-toast",role:"alert",children:(0,o.jsx)("span",{children:e})})},258:(t,e,n)=>{n.d(e,{A:()=>v});var o=n(848),r=n(723),i=n(351),s=n(87),a=n(692),c=n(427),d=n(143),l=n(455),p=n.n(l),u=n(231),A=n(814);const v=()=>{const[t,e]=(0,s.useState)(""),[n,l]=(0,s.useState)(!1),{editPost:v,savePost:f}=(0,d.useDispatch)(A.FI),{createErrorNotice:x,removeNotice:g}=(0,d.useDispatch)(a.store),{postId:h,postContent:m,postSummary:b,notices:C}=(0,d.useSelect)((t=>{var e;const{getNotices:n}=t(a.store),{getCurrentPostId:o,getEditedPostContent:r,getEditedPostAttribute:i}=t(A.FI);return{postId:o(),postContent:r(),postSummary:null===(e=i("meta"))||void 0===e?void 0:e.apbe_summary,notices:n()}}),[]);return(0,s.useEffect)((()=>{e(b)}),[b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:(0,r.__)("Summary","ai-plus-block-editor")})}),(0,o.jsx)(c.TextareaControl,{rows:4,value:t,onChange:t=>e(t),__nextHasNoMarginBottom:!0}),(0,o.jsxs)("div",{className:"apbe-button-group",children:[(0,o.jsx)(c.Button,{variant:"primary",onClick:()=>{return t=void 0,n=void 0,r=function*(){C.forEach((t=>g(t.id))),l(!0);try{const t=yield p()({path:"/ai-plus-block-editor/v1/sidebar",method:"POST",data:{id:h,text:(null==m?void 0:m.text)||m,feature:"summary"}});(()=>{let n=1;return new Promise((o=>{const r=setInterval((()=>{t.length===n&&(clearInterval(r),o(t)),e(t.substring(0,n)),n++}),5)}))})().then((t=>{v({excerpt:t}),v({meta:{apbe_summary:t}})})),l(!1)}catch(t){x(t.message),l(!1)}},new((o=void 0)||(o=Promise))((function(e,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,o,r},children:(0,r.__)("Generate","ai-plus-block-editor")}),(0,o.jsx)(c.Button,{variant:"secondary",onClick:()=>{v({excerpt:t}),v({meta:{apbe_summary:t}}),f()},children:(0,o.jsx)(c.Icon,{icon:i.A})})]}),(0,o.jsx)(u.A,{message:(0,r.__)("AI is generating text, please hold on for a bit.","ai-plus-block-editor"),isLoading:n})]})}},279:t=>{t.exports=window.wp.plugins},309:t=>{t.exports=window.wp.editPost},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);o&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},351:(t,e,n)=>{n.d(e,{A:()=>i});var o=n(609),r=n(573);const i=(0,o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(r.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}))},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},427:t=>{t.exports=window.wp.components},455:t=>{t.exports=window.wp.apiFetch},457:(t,e,n)=>{n.d(e,{A:()=>v});var o=n(848),r=n(723),i=n(351),s=n(87),a=n(692),c=n(427),d=n(143),l=n(455),p=n.n(l),u=n(231),A=n(814);const v=()=>{const[t,e]=(0,s.useState)(""),[n,l]=(0,s.useState)(!1),{editPost:v,savePost:f}=(0,d.useDispatch)(A.FI),{createErrorNotice:x,removeNotice:g}=(0,d.useDispatch)(a.store),{postId:h,postContent:m,postSlug:b,notices:C}=(0,d.useSelect)((t=>{var e;const{getNotices:n}=t(a.store),{getCurrentPostId:o,getEditedPostContent:r,getEditedPostAttribute:i}=t(A.FI);return{postId:o(),postContent:r(),postSlug:null===(e=i("meta"))||void 0===e?void 0:e.apbe_slug,notices:n()}}),[]);return(0,s.useEffect)((()=>{e(b)}),[b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:(0,r.__)("Slug","ai-plus-block-editor")})}),(0,o.jsx)(c.TextControl,{placeholder:"your-article-slug",value:t,onChange:t=>e(t),__nextHasNoMarginBottom:!0}),(0,o.jsxs)("div",{className:"apbe-button-group",children:[(0,o.jsx)(c.Button,{variant:"primary",onClick:()=>{return t=void 0,n=void 0,r=function*(){C.forEach((t=>g(t.id))),l(!0);try{const t=yield p()({path:"/ai-plus-block-editor/v1/sidebar",method:"POST",data:{id:h,text:(null==m?void 0:m.text)||m,feature:"slug"}});(()=>{let n=1;return new Promise((o=>{const r=setInterval((()=>{t.length===n&&(clearInterval(r),o(t)),e(t.substring(0,n)),n++}),5)}))})().then((t=>{v({slug:t}),v({meta:{apbe_slug:t}})})),l(!1)}catch(t){x(t.message),l(!1)}},new((o=void 0)||(o=Promise))((function(e,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,o,r},children:(0,r.__)("Generate","ai-plus-block-editor")}),(0,o.jsx)(c.Button,{variant:"secondary",onClick:()=>{v({slug:t}),v({meta:{apbe_slug:t}}),f()},children:(0,o.jsx)(c.Icon,{icon:i.A})})]}),(0,o.jsx)(u.A,{message:(0,r.__)("AI is generating text, please hold on for a bit.","ai-plus-block-editor"),isLoading:n})]})}},533:(t,e,n)=>{var o=n(72),r=n.n(o),i=n(825),s=n.n(i),a=n(659),c=n.n(a),d=n(56),l=n.n(d),p=n(540),u=n.n(p),A=n(113),v=n.n(A),f=n(100),x={};x.styleTagTransform=v(),x.setAttributes=l(),x.insert=c().bind(null,"head"),x.domAPI=s(),x.insertStyleElement=u(),r()(f.A,x),f.A&&f.A.locals&&f.A.locals},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},573:t=>{t.exports=window.wp.primitives},609:t=>{t.exports=window.React},619:t=>{t.exports=window.wp.hooks},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},692:t=>{t.exports=window.wp.notices},715:t=>{t.exports=window.wp.blockEditor},716:(t,e,n)=>{n.d(e,{A:()=>r});var o=n(848);const r=({message:t,isLoading:e})=>(0,o.jsx)("div",{style:{position:"fixed",background:"#000",color:"#FFF",bottom:"7.5px",left:"15px",padding:"20px",borderRadius:"5px",fontSize:"13px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.1)",opacity:e?1:0,transition:"opacity 0.3s ease-in-out"},children:t})},723:t=>{t.exports=window.wp.i18n},814:(t,e,n)=>{n.d(e,{DS:()=>r,FI:()=>o,Os:()=>i});const o="core/editor",r="core/notices",i="core/block-editor"},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},830:(t,e,n)=>{n.d(e,{A:()=>i});var o=n(609),r=n(573);const i=(0,o.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(r.Path,{d:"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z"}))},848:(t,e,n)=>{t.exports=n(20)},897:(t,e,n)=>{n.d(e,{A:()=>v});var o=n(848),r=n(723),i=n(351),s=n(87),a=n(692),c=n(427),d=n(143),l=n(455),p=n.n(l),u=n(231),A=n(814);const v=()=>{const[t,e]=(0,s.useState)(""),[n,l]=(0,s.useState)(!1),{editPost:v,savePost:f}=(0,d.useDispatch)(A.FI),{createErrorNotice:x,removeNotice:g}=(0,d.useDispatch)(a.store),{postId:h,postContent:m,postKeywords:b,notices:C}=(0,d.useSelect)((t=>{var e;const{getNotices:n}=t(a.store),{getCurrentPostId:o,getEditedPostContent:r,getEditedPostAttribute:i}=t(A.FI);return{postId:o(),postContent:r(),postKeywords:null===(e=i("meta"))||void 0===e?void 0:e.apbe_seo_keywords,notices:n()}}),[]);return(0,s.useEffect)((()=>{e(b)}),[b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:(0,r.__)("SEO Keywords","ai-plus-block-editor")})}),(0,o.jsx)(c.TextareaControl,{rows:7,value:t,onChange:t=>e(t),__nextHasNoMarginBottom:!0}),(0,o.jsxs)("div",{className:"apbe-button-group",children:[(0,o.jsx)(c.Button,{variant:"primary",onClick:()=>{return t=void 0,n=void 0,r=function*(){C.forEach((t=>g(t.id))),l(!0);try{const t=yield p()({path:"/ai-plus-block-editor/v1/sidebar",method:"POST",data:{id:h,text:(null==m?void 0:m.text)||m,feature:"keywords"}});(()=>{let n=1;return new Promise((o=>{const r=setInterval((()=>{t.length===n&&(clearInterval(r),o(t)),e(t.substring(0,n)),n++}),5)}))})().then((t=>{v({meta:{apbe_seo_keywords:t}})})),l(!1)}catch(t){x(t.message),l(!1)}},new((o=void 0)||(o=Promise))((function(e,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,o,r},children:(0,r.__)("Generate","ai-plus-block-editor")}),(0,o.jsx)(c.Button,{variant:"secondary",onClick:()=>{v({meta:{apbe_seo_keywords:t}}),f()},children:(0,o.jsx)(c.Icon,{icon:i.A})})]}),(0,o.jsx)(u.A,{message:(0,r.__)("AI is generating text, please hold on for a bit.","ai-plus-block-editor"),isLoading:n})]})}},924:(t,e,n)=>{n.d(e,{A:()=>v});var o=n(848),r=n(723),i=n(351),s=n(87),a=n(143),c=n(692),d=n(427),l=n(455),p=n.n(l),u=n(231),A=n(814);const v=()=>{const[t,e]=(0,s.useState)(""),[n,l]=(0,s.useState)(!1),{editPost:v,savePost:f}=(0,a.useDispatch)(A.FI),{createErrorNotice:x,removeNotice:g}=(0,a.useDispatch)(c.store),{postId:h,postContent:m,postHeadline:b,notices:C}=(0,a.useSelect)((t=>{var e;const{getNotices:n}=t(c.store),{getCurrentPostId:o,getEditedPostContent:r,getEditedPostAttribute:i}=t(A.FI);return{postId:o(),postContent:r(),postHeadline:null===(e=i("meta"))||void 0===e?void 0:e.apbe_headline,notices:n()}}),[]);return(0,s.useEffect)((()=>{e(b)}),[b]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:(0,r.__)("Headline","ai-plus-block-editor")})}),(0,o.jsx)(d.TextareaControl,{rows:4,value:t,onChange:t=>e(t),__nextHasNoMarginBottom:!0}),(0,o.jsxs)("div",{className:"apbe-button-group",children:[(0,o.jsx)(d.Button,{variant:"primary",onClick:()=>{return t=void 0,n=void 0,r=function*(){C.forEach((t=>g(t.id))),l(!0);try{const t=(yield p()({path:"/ai-plus-block-editor/v1/sidebar",method:"POST",data:{id:h,text:(null==m?void 0:m.text)||m,feature:"headline"}})).trim().replace(/^"|"$/g,"");(()=>{let n=1;return new Promise((o=>{const r=setInterval((()=>{t.length===n&&(clearInterval(r),o(t)),e(t.substring(0,n)),n++}),5)}))})().then((t=>{v({meta:{apbe_headline:t}})})),l(!1)}catch(t){x(t.message),l(!1)}},new((o=void 0)||(o=Promise))((function(e,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(t){t(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,o,r},children:(0,r.__)("Generate","ai-plus-block-editor")}),(0,o.jsx)(d.Button,{variant:"secondary",onClick:()=>{let e=1;new Promise((n=>{const o=setInterval((()=>{e===t.length&&(clearInterval(o),n(t)),v({title:t.substring(0,e)}),e++}),5)})).then((t=>{v({meta:{apbe_headline:t}}),f()}))},children:(0,o.jsx)(d.Icon,{icon:i.A})})]}),(0,o.jsx)(u.A,{message:(0,r.__)("AI is generating text, please hold on for a bit.","ai-plus-block-editor"),isLoading:n})]})}},953:(t,e,n)=>{var o=n(848),r=n(723),i=n(830),s=n(87),a=n(427),c=n(279),d=n(309),l=n(897),p=n(457),u=n(258),A=n(924);n(533),(0,c.registerPlugin)("ai-plus-block-editor",{render:()=>(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(d.PluginSidebarMoreMenuItem,{icon:i.A,target:"apbe-sidebar",children:(0,r.__)("AI + Block Editor","ai-plus-block-editor")}),(0,o.jsx)(d.PluginSidebar,{name:"apbe-sidebar",title:(0,r.__)("AI + Block Editor","ai-plus-block-editor"),icon:i.A,children:(0,o.jsx)(a.PanelBody,{children:(0,o.jsx)("div",{className:"apbe-sidebar",children:(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(A.A,{})}),(0,o.jsx)("li",{children:(0,o.jsx)(p.A,{})}),(0,o.jsx)("li",{children:(0,o.jsx)(l.A,{})}),(0,o.jsx)("li",{children:(0,o.jsx)(u.A,{})})]})})})})]})})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,n(213),n(953)})();
//# sourceMappingURL=app.js.map